<!DOCTYPE html>
<html>
  <head>
    <title>Mapa</title>

    <style type="text/css">
      /* Set the size of the div element that contains the map */
      #map {
        height: 400px;
        /* The height is 400 pixels */
        width: 100%;
        /* The width is the width of the web page */
      }
    </style>
    <script>
      function initialize(){
        let mapProp = {
        center: new google.maps.LatLng(40.416729, -3.703339),
        zoom: 5.5,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      };
        map = new google.maps.Map(document.getElementById('map'), mapProp);
        var infowindow = new google.maps.InfoWindow();
    };
    </script>
    <script>
        // Initialize and add the map
        function addMarkers() {
            const biblioteca1 = [40.416729,  -3.703339];
            const biblioteca2 = [ 40.616729,  -3.603339];
            const biblioteca3= [ 40.216729,  -3.503339];
            const resultados = [biblioteca1, biblioteca2, biblioteca3];

            for (let i = 0; i < resultados.length; i++) {
              marker = new google.maps.Marker({
              position: new google.maps.LatLng(resultados[i][0], resultados[i][1]),
              map: map
              });
            } 
          infowindow.setContent(map);  
        }
      </script>
  
   
    <div id="map"></div>
    <button type="button" onclick="addMarkers()">Generar marcadores</button>
  
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAnAfPHaB_nPgU7UujxvqF9WnlW-2TuINk&callback=initMap&libraries=&v=weekly"
      async
    ></script>
  
    <body onload="initialize()"></body>
</html>